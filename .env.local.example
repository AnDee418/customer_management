# ===============================
# Supabase Configuration
# ===============================

# Supabase Project URL
NEXT_PUBLIC_SUPABASE_URL=https://your-project.supabase.co

# Supabase Anon Key (Public)
NEXT_PUBLIC_SUPABASE_ANON_KEY=your-anon-key-here

# Supabase Service Role Key (Private - Server only)
SUPABASE_SERVICE_ROLE_KEY=your-service-role-key-here

# ===============================
# OAuth2 Client Credentials
# ===============================

# JWT Secret for signing OAuth2 tokens
# Generate with: openssl rand -base64 32
JWT_SECRET=your-jwt-secret-here

# OAuth2 Clients Configuration (Option 1: JSON format)
# OAUTH2_CLIENTS={"order-service":{"secret":"xxx","scopes":["customers:read","customers:write"]},"measurement-service":{"secret":"yyy","scopes":["customers:read"]}}

# OAuth2 Clients Configuration (Option 2: Individual environment variables)

# Order Management Service
ORDER_SERVICE_CLIENT_ID=order-service-client-id
ORDER_SERVICE_CLIENT_SECRET=your-order-service-secret-here

# Measurement Management Service
MEASUREMENT_SERVICE_CLIENT_ID=measurement-service-client-id
MEASUREMENT_SERVICE_CLIENT_SECRET=your-measurement-service-secret-here

# ===============================
# Rate Limiting & IP Allowlist
# ===============================

# IP Allowlist for M2M APIs (comma-separated)
# Leave empty to allow all IPs
# M2M_ALLOWED_IPS=203.0.113.0/24,198.51.100.50

# ===============================
# Application Configuration
# ===============================

# Application URL (for OAuth2 token issuer)
NEXT_PUBLIC_APP_URL=https://customer-management.example.com

# ===============================
# Notes
# ===============================

# Security Best Practices:
# 1. Generate strong secrets (32+ characters)
# 2. Rotate secrets every 3 months
# 3. Use different secrets for dev/staging/production
# 4. Never commit actual secrets to Git
#
# Generate OAuth2 Client Secret:
#   openssl rand -base64 32
#
# OAuth2 Scopes:
#   - customers:read    : Search and view customers
#   - customers:write   : Create and update customers
#
# For detailed integration guide, see:
#   docs/MICROSERVICE_INTEGRATION_GUIDE.md
